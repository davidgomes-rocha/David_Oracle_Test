Question 1:

-- Primary Keys

Definition:
To ensure data integrity and optimize queries, we define primary keys (PK) and indexes. The PK uniquely identifies each row, while indexes speed up searches.

Code:
ALTER TABLE item ADD CONSTRAINT pk_item PRIMARY KEY (item);
ALTER TABLE loc ADD CONSTRAINT pk_loc PRIMARY KEY (loc);
ALTER TABLE item_loc_soh ADD CONSTRAINT pk_item_loc_soh PRIMARY KEY (item, loc);

Explanation:

-- Foreign Keys

Definition:
A foreign key (FK) is a database constraint that ensures referential integrity by enforcing a relationship between two tables. It ensures that a column in one table (child table) references a valid primary key in another table (parent table).

Code:
ALTER TABLE item_loc_soh ADD CONSTRAINT fk_item FOREIGN KEY (item) REFERENCES item(item);
ALTER TABLE item_loc_soh ADD CONSTRAINT fk_loc FOREIGN KEY (loc) REFERENCES loc(loc);

Explanation:
fk_item ensures that item in item_loc_soh exists in item → Prevents orphan records.
fk_loc ensures that loc in item_loc_soh exists in loc → Ensures stock is only assigned to valid locations.

-- Indexes

Definition:
An index is a database structure that improves query performance by allowing faster data lookups. Instead of scanning the entire table, indexes provide a structured way to access data efficiently.

Code:
CREATE INDEX idx_item_loc_soh_dept ON item_loc_soh (dept);
CREATE INDEX idx_item_loc_soh_loc ON item_loc_soh (loc);

Explanation:
Index on dept (idx_item_loc_soh_dept):
-The test specifies that most store/warehouse users search by dept.
-Without an index, searching by dept would require a full table scan, which is slow for large datasets.
-This index allows quick filtering of item_loc_soh records by dept.

Index on loc (idx_item_loc_soh_loc):
-Many queries will filter data by location (warehouse/store).
-This index improves performance when users filter stock data by loc.

